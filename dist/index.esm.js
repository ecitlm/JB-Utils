/**
* name: jb-utils
* version 1.1.2
* description: jb-utils前端常用方法库
* author: ecitlm
* website: https://ecitlm.github.io/JB-Utils/index.html
* Date: 2022-4-17
**/

var e=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxx".replace(/[xy]/g,(function(e){var r=16*Math.random()|0;return("x"===e?r:8|r).toString(16)}))};e();var r=function(e,r){var t={},n=[];e.map((function(e){t[e.id]=e}));for(var o=0,a=e.length;o<a;o++){var c=e[o].parentId;c!==r?t[c].children?t[c].children.push(e[o]):t[c].children=[e[o]]:n.push(e[o])}return n},t=function(e,r){void 0===r&&(r=Function);var t=document.createElement("script");t.readyState?t.onreadystatechange=function(){"loaded"!=t.readyState&&"complete"!=t.readyState||(t.onreadystatechange=null,r())}:t.onload=function(){r()}};function n(e){var r="JSONP"+Date.now();window[r]=function(r){e.success(r)},delete window[r];var t=document.createElement("script");-1===e.url.indexOf("?")?e.url=e.url+"?".concat(e.cbName,"=").concat(r):e.url=e.url+"&".concat(e.cbName,"=").concat(r),t.src=e.url,document.getElementsByTagName("head")[0].appendChild(t),t.onerror=function(){e.error&&e.error()},setTimeout((function(){t.parentNode.removeChild(t)}),0)}var o=function(e,r){var t=[];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=e[n],c=encodeURIComponent(n),i=void 0;i="object"==typeof a?o(a,r?r+"["+c+"]":c):(r?r+"["+c+"]":c)+"="+encodeURIComponent(a),t.push(i)}return t.join("&")},a=function(e){if(isNaN(e))throw new TypeError("num is not a number");return(""+e).replace(/(\d{1,3})(?=(\d{3})+(?:$|\.))/g,"$1,")},c=function(e){var r=e.split("?")[1];return r?JSON.parse('{"'+decodeURIComponent(r).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}'):{}},i=function(e){var r=["角","分"],t=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],n=[["元","万","亿"],["","拾","佰","仟"]],o=e<0?"欠":"";e=Math.abs(e);for(var a="",c=0;c<r.length;c++)a+=(t[Math.floor(10*e*Math.pow(10,c))%10]+r[c]).replace(/零./,"");a=a||"整",e=Math.floor(e);for(c=0;c<n[0].length&&e>0;c++){for(var i="",d=0;d<n[1].length&&e>0;d++)i=t[e%10]+n[1][d]+i,e=Math.floor(e/10);a=i.replace(/(零.)*零$/,"").replace(/^$/,"零")+n[0][c]+a}return o+a.replace(/(零.)*零元/,"元").replace(/(零.)+/g,"零").replace(/^整$/,"零元整")},d=function(e){if(!/^[1-9]\d{5}(?:18|19|20)\d{2}(?:0[1-9]|10|11|12)(?:0[1-9]|[1-2]\d|30|31)\d{3}[\dXx]$/.test(e))throw new Error("id card id is invalid !");var r,t=e.substring(6,14),n=t.substring(0,4),o=t.substring(4,6),a=t.substring(6,8),c=e.substring(0,2),i={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门"}[c];return e.charAt(16)>="0"&&e.charAt(16)<="9"&&(r=parseInt(e.charAt(16))%2==0?1:0),{year:n,month:o,day:a,birthday:"".concat(n,"-").concat(o,"-").concat(a),province:i,provCode:c,sex:r}},u=function(){return u=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},u.apply(this,arguments)},l={phone:/^1[3|4|5|7|8][0-9]{9}$/,email:/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/,tel:/^(0\d{2,3}-\d{7,8})(-\d{1,4})?$/,number:/^[0-9]$/,chinese:/^[\u4E00-\u9FA5]+$/,english:/^[a-zA-Z]+$/,lower:/^[a-z]+$/,url:/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i,idCard:/^[1-9]\d{5}(?:18|19|20)\d{2}(?:0[1-9]|10|11|12)(?:0[1-9]|[1-2]\d|30|31)\d{3}[\dXx]$/},s=function(e){void 0===e&&(e={});var r=this,t=u(u({},l),e);Object.keys(t).forEach((function(e){r[e]=function(r){return l[e].test(r)}}))},f=function(e,r){var t=!1,n=null,o=function(e){Array.isArray(e)&&!t&&e.forEach((function(e){e.id===r?(n=e,t=!0):e.children&&o(e.children)}))};return o(e),n},p=function(){function e(){window&&window.localStorage&&(this.readStorage=window.localStorage)}return e.prototype.bootStrap=function(e){switch(e.mode){case"session":this.readStorage=window.sessionStorage;break;case"local":this.readStorage=window.localStorage;break;default:throw new Error("arguments is wrong,please check config {}")}this.config=e},e.prototype.setItem=function(e,r){if(2!==arguments.length)throw new Error("args must be two");try{this.readStorage.setItem(e,JSON.stringify(r))}catch(e){throw new Error("value is not a JSON.stringify val，please check data value")}},e.prototype.getItem=function(e){var r=JSON.parse(this.readStorage.getItem(e));return(null==r?void 0:r.data)||null},e.prototype.removeItem=function(e){this.readStorage.removeItem(e)},e.prototype.clear=function(){this.readStorage.clear()},e}();export{d as IdCardInfo,p as Storage,s as Validator,i as convertCurrency,a as formatNumber,f as getTreeChildren,e as getUID,n as jsonp,t as loadjs,c as parseQueryString,o as stringifyQueryString,r as treeToArray};
